[1/10] Performing build step for 'bootloader'
[1/1] cmd.exe /C "cd /D D:\HUST\20232\Do_An_1\mq2_sensor_esp32\MQ2_ESP32\build\bootloader\esp-idf\esptool_py && C:\Users\ASUS\Espressif\python_env\idf5.1_py3.11_env\Scripts\python.exe C:/Users/ASUS/Espressif/frameworks/esp-idf-v5.1.2/components/partition_table/check_sizes.py --offset 0x8000 bootloader 0x1000 D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/build/bootloader/bootloader.bin"
Bootloader binary size 0x6810 bytes. 0x7f0 bytes (7%) free.
[2/8] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/MQ2_ESP32.c.obj
In file included from D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2_ESP32.c:7:
C:/Users/ASUS/Espressif/frameworks/esp-idf-v5.1.2/components/spi_flash/include/esp_spi_flash.h:6:2: warning: #warning esp_spi_flash.h is deprecated, please use spi_flash_mmap.h instead [-Wcpp]
    6 | #warning esp_spi_flash.h is deprecated, please use spi_flash_mmap.h instead
      |  ^~~~~~~
In file included from D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2_ESP32.c:11:
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:24:24: warning: 'LPGCurve' initialized and declared 'extern'
   24 | extern float           LPGCurve[3]  = {2.3,0.21,-0.47};   //two points are taken from the curve.
      |                        ^~~~~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:28:24: warning: 'COCurve' initialized and declared 'extern'
   28 | extern float           COCurve[3]  =  {2.3,0.72,-0.34};;    //two points are taken from the curve.
      |                        ^~~~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:32:24: warning: 'SmokeCurve' initialized and declared 'extern'
   32 | extern float           SmokeCurve[3] = {2.3,0.53,-0.44};    //two points are taken from the curve.
      |                        ^~~~~~~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:36:24: warning: 'Ro' initialized and declared 'extern'
   36 | extern float           Ro           =  10;                 //Ro is initialized to 10 kilo ohms
      |                        ^~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:38:14: warning: 'lpg' initialized and declared 'extern'
   38 | extern float lpg = 0;
      |              ^~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:39:14: warning: 'co' initialized and declared 'extern'
   39 | extern float co = 0;
      |              ^~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:40:14: warning: 'smoke' initialized and declared 'extern'
   40 | extern float smoke = 0;
      |              ^~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:58:12: warning: 'lastReadTime' initialized and declared 'extern'
   58 | extern int lastReadTime = 0;
      |            ^~~~~~~~~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2_ESP32.c:14: warning: "LOG_LOCAL_LEVEL" redefined
   14 | #define LOG_LOCAL_LEVEL ESP_LOG_VERBOSE
      | 
In file included from D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2_ESP32.c:8:
C:/Users/ASUS/Espressif/frameworks/esp-idf-v5.1.2/components/log/include/esp_log.h:153: note: this is the location of the previous definition
  153 | #define LOG_LOCAL_LEVEL  CONFIG_LOG_MAXIMUM_LEVEL
      | 
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2_ESP32.c:12:20: warning: 'TAG' defined but not used [-Wunused-variable]
   12 | static const char *TAG = "MQ2";
      |                    ^~~
[3/8] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/MQ2/MQ2.c.obj
In file included from D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.c:12:
C:/Users/ASUS/Espressif/frameworks/esp-idf-v5.1.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
In file included from D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.c:13:
C:/Users/ASUS/Espressif/frameworks/esp-idf-v5.1.2/components/esp_adc/deprecated/include/esp_adc_cal.h:17:2: warning: #warning "legacy adc calibration driver is deprecated, please migrate to use esp_adc/adc_cali.h and esp_adc/adc_cali_scheme.h" [-Wcpp]
   17 | #warning "legacy adc calibration driver is deprecated, please migrate to use esp_adc/adc_cali.h and esp_adc/adc_cali_scheme.h"
      |  ^~~~~~~
In file included from D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.c:15:
C:/Users/ASUS/Espressif/frameworks/esp-idf-v5.1.2/components/spi_flash/include/esp_spi_flash.h:6:2: warning: #warning esp_spi_flash.h is deprecated, please use spi_flash_mmap.h instead [-Wcpp]
    6 | #warning esp_spi_flash.h is deprecated, please use spi_flash_mmap.h instead
      |  ^~~~~~~
In file included from D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.c:18:
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:24:24: warning: 'LPGCurve' initialized and declared 'extern'
   24 | extern float           LPGCurve[3]  = {2.3,0.21,-0.47};   //two points are taken from the curve.
      |                        ^~~~~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:28:24: warning: 'COCurve' initialized and declared 'extern'
   28 | extern float           COCurve[3]  =  {2.3,0.72,-0.34};;    //two points are taken from the curve.
      |                        ^~~~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:32:24: warning: 'SmokeCurve' initialized and declared 'extern'
   32 | extern float           SmokeCurve[3] = {2.3,0.53,-0.44};    //two points are taken from the curve.
      |                        ^~~~~~~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:36:24: warning: 'Ro' initialized and declared 'extern'
   36 | extern float           Ro           =  10;                 //Ro is initialized to 10 kilo ohms
      |                        ^~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:38:14: warning: 'lpg' initialized and declared 'extern'
   38 | extern float lpg = 0;
      |              ^~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:39:14: warning: 'co' initialized and declared 'extern'
   39 | extern float co = 0;
      |              ^~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:40:14: warning: 'smoke' initialized and declared 'extern'
   40 | extern float smoke = 0;
      |              ^~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:58:12: warning: 'lastReadTime' initialized and declared 'extern'
   58 | extern int lastReadTime = 0;
      |            ^~~~~~~~~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.c: In function 'read':
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.c:114:12: warning: function returns address of local variable [-Wreturn-local-addr]
  114 |     return values;
      |            ^~~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.c: In function 'MQRead':
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.c:133:14: warning: unused variable 'voltage' [-Wunused-variable]
  133 |     uint32_t voltage = esp_adc_cal_raw_to_voltage(val, adc_chars);
      |              ^~~~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.c: In function 'mq2_sensor':
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.c:228:13: warning: unused variable 'blink_led_state' [-Wunused-variable]
  228 |     uint8_t blink_led_state = 0;
      |             ^~~~~~~~~~~~~~~
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.c: At top level:
D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.c:222:20: warning: 'TAG' defined but not used [-Wunused-variable]
  222 | static const char *TAG = "MQ2";
      |                    ^~~
[4/8] Linking C static library esp-idf\main\libmain.a
[5/8] Generating ld/sections.ld
[6/8] Linking CXX executable MQ2_ESP32.elf
FAILED: MQ2_ESP32.elf 
cmd.exe /C "cd . && C:\Users\ASUS\Espressif\tools\xtensa-esp32-elf\esp-12.2.0_20230208\xtensa-esp32-elf\bin\xtensa-esp32-elf-g++.exe -mlongcalls -Wno-frame-address -Wl,--cref -Wl,--defsym=IDF_TARGET_ESP32=0 -Wl,--Map=D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/build/MQ2_ESP32.map -Wl,--no-warn-rwx-segments -fno-rtti -fno-lto -Wl,--gc-sections -Wl,--warn-common -T esp32.peripherals.ld -T esp32.rom.ld -T esp32.rom.api.ld -T esp32.rom.libgcc.ld -T esp32.rom.newlib-data.ld -T esp32.rom.syscalls.ld -T esp32.rom.newlib-funcs.ld -T memory.ld -T sections.ld @CMakeFiles\MQ2_ESP32.elf.rsp -o MQ2_ESP32.elf  && cd ."
c:/users/asus/espressif/tools/xtensa-esp32-elf/esp-12.2.0_20230208/xtensa-esp32-elf/bin/../lib/gcc/xtensa-esp32-elf/12.2.0/../../../../xtensa-esp32-elf/bin/ld.exe: esp-idf/main/libmain.a(MQ2.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:36: multiple definition of `Ro'; esp-idf/main/libmain.a(MQ2_ESP32.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:36: first defined here
c:/users/asus/espressif/tools/xtensa-esp32-elf/esp-12.2.0_20230208/xtensa-esp32-elf/bin/../lib/gcc/xtensa-esp32-elf/12.2.0/../../../../xtensa-esp32-elf/bin/ld.exe: esp-idf/main/libmain.a(MQ2.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:24: multiple definition of `LPGCurve'; esp-idf/main/libmain.a(MQ2_ESP32.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:24: first defined here
c:/users/asus/espressif/tools/xtensa-esp32-elf/esp-12.2.0_20230208/xtensa-esp32-elf/bin/../lib/gcc/xtensa-esp32-elf/12.2.0/../../../../xtensa-esp32-elf/bin/ld.exe: esp-idf/main/libmain.a(MQ2.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:28: multiple definition of `COCurve'; esp-idf/main/libmain.a(MQ2_ESP32.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:28: first defined here
c:/users/asus/espressif/tools/xtensa-esp32-elf/esp-12.2.0_20230208/xtensa-esp32-elf/bin/../lib/gcc/xtensa-esp32-elf/12.2.0/../../../../xtensa-esp32-elf/bin/ld.exe: esp-idf/main/libmain.a(MQ2.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:32: multiple definition of `SmokeCurve'; esp-idf/main/libmain.a(MQ2_ESP32.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:32: first defined here
c:/users/asus/espressif/tools/xtensa-esp32-elf/esp-12.2.0_20230208/xtensa-esp32-elf/bin/../lib/gcc/xtensa-esp32-elf/12.2.0/../../../../xtensa-esp32-elf/bin/ld.exe: esp-idf/main/libmain.a(MQ2.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:38: multiple definition of `lpg'; esp-idf/main/libmain.a(MQ2_ESP32.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:38: first defined here
c:/users/asus/espressif/tools/xtensa-esp32-elf/esp-12.2.0_20230208/xtensa-esp32-elf/bin/../lib/gcc/xtensa-esp32-elf/12.2.0/../../../../xtensa-esp32-elf/bin/ld.exe: esp-idf/main/libmain.a(MQ2.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:39: multiple definition of `co'; esp-idf/main/libmain.a(MQ2_ESP32.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:39: first defined here
c:/users/asus/espressif/tools/xtensa-esp32-elf/esp-12.2.0_20230208/xtensa-esp32-elf/bin/../lib/gcc/xtensa-esp32-elf/12.2.0/../../../../xtensa-esp32-elf/bin/ld.exe: esp-idf/main/libmain.a(MQ2.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:40: multiple definition of `smoke'; esp-idf/main/libmain.a(MQ2_ESP32.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:40: first defined here
c:/users/asus/espressif/tools/xtensa-esp32-elf/esp-12.2.0_20230208/xtensa-esp32-elf/bin/../lib/gcc/xtensa-esp32-elf/12.2.0/../../../../xtensa-esp32-elf/bin/ld.exe: esp-idf/main/libmain.a(MQ2.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:58: multiple definition of `lastReadTime'; esp-idf/main/libmain.a(MQ2_ESP32.c.obj):D:/HUST/20232/Do_An_1/mq2_sensor_esp32/MQ2_ESP32/main/MQ2/MQ2.h:58: first defined here
collect2.exe: error: ld returned 1 exit status
ninja: build stopped: subcommand failed.
